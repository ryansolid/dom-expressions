const path = require("path");
const pluginTester = require("babel-plugin-tester").default;
const plugin = require("../index");

pluginTester({
  plugin,
  pluginOptions: {
    moduleName: "r-dom",
    builtIns: ["For", "Show"],
    generate: "dynamic",
    renderers: [
      {
        name: "dom",
        moduleName: "r-dom",
        elements: [
          "table",
          "tbody",
          "div",
          "h1",
          "span",
          "header",
          "footer",
          "slot",
          "my-el",
          "my-element",
          "module",
          "input",
          "img",
          "iframe",
          "button",
          "a",
          "svg",
          "rect",
          "x",
          "y",
          "linearGradient",
          "stop",
          "style",
          "li",
          "ul",
          "label",
          "text",
          "namespace:tag",
          "p",
          "noscript",
          "select",
          "option",
          // mathml
          "math",
          "annotation",
          "annotation-xml",
          "maction",
          "math",
          "merror",
          "mfrac",
          "mi",
          "mmultiscripts",
          "mn",
          "mo",
          "mover",
          "mpadded",
          "mphantom",
          "mprescripts",
          "mroot",
          "mrow",
          "ms",
          "mspace",
          "msqrt",
          "mstyle",
          "msub",
          "msubsup",
          "msup",
          "mtable",
          "mtd",
          "mtext",
          "mtr",
          "munder",
          "munderover",
          "semantics",
          "menclose",
          "mfenced"
        ]
      }
    ],
    staticMarker: "@once",
    contextToCustomElements: true,
    wrapConditionals: true
  },
  title: "Convert JSX",
  fixtures: path.join(__dirname, "__dom_fixtures__"),
  snapshot: true
});
